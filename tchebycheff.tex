\documentclass[elemannt.tex]{subfile}

\begin{document}
	\chapter{Tchebyscheff's Theorems}
	We said before that \textit{almost} all natural numbers are composite. A major objective of this book is to discuss how often the primes occur. The same question has bugged mathematicians for a centuries. It was Gauss who first observed that the change in the distribution of primes in every interval $[x,x+1000]$ was around $1/\log{x}$. Thus, the rough estimate
		\begin{align*}
			\pi(x)
				& = \int\limits_{2}^{x}\dfrac{1}{\log{t}}dt
		\end{align*}
	was made which is now known as \index{Logarithmic integral}\textit{logarithmic integral}. Gauss conjectured (see \textcite[Page 37]{landau_1911}) around 1792 or 1793 that
		\begin{align*}
			\lim\limits_{x\to\infty}\dfrac{\pi(x)}{x/\log{x}}
				& = 1
		\end{align*}
	\textcite{tchebycheff_1852} is the first one to make any substantial progress on the matter. In fact, Tchebyscheff was close to proving the prime number theorem himself. \textcite{tschebischeff_1852} proved that if $\pi(x)$ was of order $\frac{x}{\log^{N}{x}}$ as $x\to\infty$, then $N=1$. Consequently, he also proved that if the limit
		\begin{align*}
			\lim_{x\to\infty}\dfrac{\pi(x)}{x/\log{x}}
		\end{align*}
	exists, then it is $1$. The only problem was to actually prove that this limit indeed exists. One of our objectives in this book is prove the prime number theorem without any serious analysis from the scratch. We will discuss some relevant results first that give us better insight into the structure of primes before doing that.
		\subfile{prime.tex}
	We can now start proving some results by \textcite{tchebycheff_1852} and \textcite{tschebischeff_1852}. Before we discuss Tchebyscheff's functions, we should discuss the following first which gives us some insight into why Tchebyscheff's functions are important.
		\begin{theorem}[Tchebyscheff]\label{thm:tchebycheffbound}
			Let $x$ be a positive real number. Then there are constants $a$ and $A$ such that
				\begin{align*}
					a\dfrac{x}{\log{x}}
						& \leq \pi(x) \leq A\dfrac{x}{\log{x}}
				\end{align*}
		\end{theorem}
	Actually, Tchebyscheff gave a more precise statement that
		\begin{align*}
			a
				& < \dfrac{\pi(x)}{\dfrac{x}{\log{x}}} < \dfrac{6a}{5}
		\end{align*}
	holds for large enough $x$ where
		\begin{align*}
			a
				& = \dfrac{\log{2}}{2}+\dfrac{\log{3}}{3}+\dfrac{\log{5}}{5}-\dfrac{\log{30}}{30}
		\end{align*}
	The following proof is inspired by \textcite[Theorem 112]{landau_1969}; which is a translation of the first section of the first volume of \textcite{landau_1927}.
		\begin{proof}
			For any $x\geq 0$,
				\begin{align*}
					\floor{x}-2\floor{\dfrac{x}{2}}
						& \leq 1
				\end{align*}
			since
				\begin{align*}
					\floor{x}-2\floor{\dfrac{x}{2}}
						& < x-2\parenthesis{\dfrac{x}{2}-1}\\
						& = 2
				\end{align*}
			Let $n\geq2$. For every $p\leq2n$, let $r$ denote the largest positive integer such that $p^{r}\leq2n$ (which is $\floor{\log{2n}/\log{p}}$). We will first show that
				\begin{align}
					\prod_{n<p\leq 2n}p
						& \mid \mathfrak{N}\label{eqn:1}\\
					\mathfrak{N}
						& \mid \prod_{p\leq 2n}p^{r}
				\end{align}
			where $\mathfrak{N}=\binom{2n}{n}$ and the product runs through the primes only. For a prime $p$,
				\begin{align*}
					\nu_{p}(\mathfrak{N})
						& = \nu_{p}((2n)!)-2\nu_{p}(n!)
				\end{align*}
			Since $p>n$, $\nu_{p}(n!)=0$ and $\nu_{p}(\mathfrak{N})=\nu_{p}((2n)!)\geq\nu_{p}\func{}{\prod_{n<p\leq 2n}p}$. On the other hand, for $p\leq 2n$, using \nameref{thm:legendrefact},
				\begin{align*}
					\nu_{p}(\mathfrak{N})
						& = \nu_{p}((2n)!)-2\nu_{p}(n!)\\
						& = \sum_{i\geq 1}\floor{\dfrac{2n}{p^{i}}}-2\floor{\dfrac{n}{p^{i}}}
				\end{align*}
			Since $\floor{2x}-2\floor{x}\leq 1$ for any $x\geq0$ and $\nu_{p^{i}}((2n)!)=0$ for $i>r$, we have
				\begin{align*}
					\sum_{i\geq 1}\floor{\dfrac{2n}{p^{i}}}-2\floor{\dfrac{n}{p^{i}}}
						& \leq \sum_{1\leq i\leq r}1
				\end{align*}
			Thus, for every prime $p$,
				\begin{align*}
					p^{\nu_{p}(\mathfrak{N})}
						& \mid p^{\floor{\log_{p}{2n}}}
				\end{align*}
			and evidently
				\begin{align*}
					\mathfrak{N}
						& \mid \prod_{p\leq 2n}p^{\floor{\log_{p}{2n}}}
				\end{align*}
			So $\mathfrak{N}\leq \prod_{p\leq 2n}2n$. Now, there are $\pi(2n)-\pi(n)$ primes in the interval $(n,2n)$ each of which are greater than $n$. So,
				\begin{align*}
					n^{\pi(2n)-\pi(n)}
						& \leq \prod_{n<p\leq 2n}p\\
						& \leq\mathfrak{N}\\
						& \leq \prod_{p\leq 2n}2n\\
						& \leq (2n)^{\pi(2n)}
				\end{align*}
			Taking logarithm,
				\begin{align*}
					\func{}{\pi(2n)-\pi(n)}\log{n}
						& \leq \pi(2n)\log{2n}
				\end{align*}
			Next, we have that
				\begin{align*}
					\mathfrak{N}
						& \leq \sum_{i=0}^{2n}\binom{2n}{i}\\
						& = 2^{2n}\\
					\binom{2n}{n}
						& = \dfrac{(n+1)\cdots (2n)}{1\cdots n}\\
						& \geq \prod_{i=1}^{n}\dfrac{n+i}{i}\\
						& \geq 2^{n}
				\end{align*}
			giving
				\begin{align*}
					(\pi(2n)-\pi(n))\log{n}
						& \leq\log{\mathfrak{N}}\leq\pi(2n)\log{2n}
				\end{align*}
			Thus, we have
				\begin{align*}
					(\pi(2n)-\pi(n))\log{n}
						& \leq \log{2^{2n}}
				\end{align*}
			and also
				\begin{align*}
					\pi(2n)\log{2n}
						& \geq \log{2^{n}}\\
					\pi(2n)
						& \geq c_{1}\dfrac{2n}{\log{2n}}
				\end{align*}
			for a positive constant $c_{1}$. For $x\geq2$, setting $\eta=\floor{x/2}$ and $x=2\eta+r$ with $0\leq r<2$, we have $x\leq3\eta$ and $\log{2\eta}\leq\log{x}$.
				\begin{align*}
					\pi(x)
						& \geq\func{\pi}{2\eta}\\
						& \geq c\dfrac{2\eta}{\log{2\eta}}\\
						& = \dfrac{2c}{3}\dfrac{3\eta}{\log{2\eta}}\\
						& \geq a\dfrac{x}{\log{x}}
				\end{align*}
			for a positive constant $a$. On the other hand, since $x<2+2\floor{\frac{x}{2}}$,
				\begin{align*}
					\pi(x)-\func{\pi}{\dfrac{x}{2}}
						& = \pi(x)-\func{\pi}{\floor{\dfrac{x}{2}}}\\
						& \leq 2+\func{\pi}{2\floor{\dfrac{x}{2}}}-\func{\pi}{\floor{\dfrac{x}{2}}}\\
						& \leq 2+2\log{2}\dfrac{\floor{\dfrac{x}{2}}}{\log{\floor{\dfrac{x}{2}}}}\\
						& < d\dfrac{x}{log{x}}
				\end{align*}
			for a constant $d$. Using $\func{\pi}{\frac{x}{2}}\leq\frac{x}{2}$,
				\begin{align*}
					\log{x}\pi(x)-\log{\frac{x}{2}}\func{\pi}{\dfrac{x}{2}}
						& = \func{\log{x}}{\pi(x)-\func{\pi}{\dfrac{x}{2}}}+\log{2}\cdot\func{\pi}{\dfrac{x}{2}}\\
						& < \log{x}\cdot d_{1}\dfrac{x}{\log{x}}+\dfrac{x}{2}\\
						& < d_{2}x
				\end{align*}
			If $2^{m+1}\leq2^{v+1}x<2^{v+2}$ (that is, $v+1=\floor{\log_{2}{x}})$,
				\begin{align*}
					\log{\dfrac{x}{2^{m}}}\func{\pi}{\dfrac{x}{2^{m}}}-\log{\dfrac{x}{2^{m+1}}}\func{\pi}{\dfrac{x}{2^{m+1}}}
						& < d_{2}\dfrac{x}{2^{m}}
				\end{align*}
			Summing over this for $0\leq m\leq v$,
				\begin{align*}
					\log{x}\pi(x)
						& = \func{\sum_{m=0}^{v}}{\log{\dfrac{x}{2^{m}}}\func{\pi}{\dfrac{x}{2^{m}}}-\log{\dfrac{x}{2^{m+1}}}\func{\pi}{\dfrac{x}{2^{m+1}}}}\\
						& < d_{2}x\sum_{m=0}^{v}\dfrac{1}{2^{m}}\\
						& = Ax
				\end{align*}
		\end{proof}
	A corollary is the following.
		\begin{theorem}
			For a positive integer $n>1$,
				\begin{align*}
					bn\log{n}
						& < p_{n}<Bn\log{n}
				\end{align*}
		\end{theorem}
	The proof is left to the reader as an exercise. Using this, we can prove \nameref{thm:primereciprocal}. Since
		\begin{align*}
			\dfrac{1}{p_{n}}
				& > \dfrac{1}{Bn\log{n}}
		\end{align*}
	we only need to show that
		\begin{align*}
			\sum_{n\geq1}\dfrac{1}{n\log{n}}
		\end{align*}
	diverges. I leave this as an exercise as well.

	\section{Tchebyscheff Functions}
	\textcite{tschebischeff_1852} defines two functions that are today known as Tchebisceff's $\vartheta$ and $\psi$ functions.
		\begin{definition}[Tchebyscheff's $\vartheta$ function]
			For a real number $x$, Tchebyscheff's $\vartheta$ function is defined as
				\begin{align*}
					\vartheta(x)
						& = \sum_{p\leq x}\log{p}
				\end{align*}
		\end{definition}

		\begin{definition}[Tchebyscheff's $\psi$ function]
			For a real number $x$, Tchebyscheff's $\psi$ function is defined as
				\begin{align*}
					\psi(x)
						& = \sum_{p^{i}\leq n}\log{p}
				\end{align*}
		\end{definition}
	Note that we can write $\psi$ in different ways.
		\begin{align*}
			\psi(x)
				& = \sum_{p\leq x}\log{p}\sum_{p^{i}\leq x}1\\
				& = \sum_{p\leq x}\floor{\log_{p}{x}}\log{p}
		\end{align*}
	Also,
		\begin{align*}
			\psi(x)
				& = \sum_{i\geq 1}\sum_{p^{i}\leq x}\log{p}\\
				& = \sum_{i\geq 1}\sum_{p\leq\sqrt[i]{x}}\log{p}\\
				& = \sum_{i\geq 1}\vartheta(\sqrt[i]{x})
		\end{align*}
	At this point, we should introduce the Von Mangoldt function.
		\begin{definition}[Von Mangoldt function]
			For a positive integer $n$,
				\begin{align*}
					\Lambda(n)
						& = \log{p}\mbox{ if }n=p^{k}\mbox{ for a prime }p\\
						& = 0\mbox{ otherwise}
				\end{align*}
		\end{definition}
	Then we can write $\psi$ as
		\begin{align*}
			\psi(x)
				& = \sum_{n\leq x}\Lambda(n)
		\end{align*}
	The following theorem immediately shows us the importance of these functions.
		\begin{theorem}\label{thm:pntequivalence}
			If any of the three limits
				\begin{align*}
					\lim_{x\to\infty}\dfrac{\pi(x)}{x/\log{x}}
						& ,\lim_{x\to\infty}\dfrac{\vartheta(x)}{x}, \lim_{x\to\infty}\dfrac{\psi(x)}{x}
				\end{align*}
			exists, then all three limits are equal.
		\end{theorem}

		\begin{proof}
			Let the upper limits of the three be $l_{1},l_{2},l_{3}$ respectively. Obviously,
				\begin{align*}
					\vartheta(x)
						& \leq \psi(x)\\
						& = \sum_{p\leq x}\floor{\dfrac{\log{x}}{\log{p}}}\log{p}\\
						& \leq\sum_{p\leq x}\dfrac{\log{x}}{\log{p}}\log{p}\\
						& =\log{x}\sum_{p\leq x}1\\
						& = \pi(x)\log{x}
				\end{align*}
			Then, for all $x$,
				\begin{align*}
					\dfrac{\vartheta(x)}{x}
						& \leq \dfrac{\psi(x)}{x}\leq \dfrac{\pi(x)}{x/\log{x}}
				\end{align*}
			So, $l_{2}\leq l_{3}\leq l_{1}$. Now, for any $0<\epsilon<1$, $\vartheta(x^{\epsilon})\geq0$ so $\vartheta(x)-\vartheta(x^{\epsilon})\leq \vartheta(x)$.
				\begin{align*}
					\vartheta(x)-\vartheta(x^{\epsilon})
						& =\sum_{x^{\epsilon}<p\leq x}\log{p}\\
						& > \sum_{x^{\epsilon}<p\leq x}\log{x^{\epsilon}}\\
						& = \log{x^{\epsilon}}\sum_{x^{\epsilon}<p\leq x}1\\
						& = \epsilon(\pi(x)-\pi(x^{\epsilon}))\log{x}
				\end{align*}
			Here, $\pi(x^{\epsilon})<x^{\epsilon}$ so $\pi(x)-\pi(x^{\epsilon})\geq \pi(x)-x^{\epsilon}$ and
				\begin{align*}
					\dfrac{\vartheta(x)}{x}
						& > \epsilon\left(\dfrac{\pi(x)}{x/\log{x}}-\dfrac{\log{x}}{x^{1-\epsilon}}\right)
				\end{align*}
			Taking $x\to\infty$, $\lim_{x\to\infty}\frac{\log{x}}{x^{1-\epsilon}}=0$ so
				\begin{align*}
					\lim_{x\to\infty}\dfrac{\vartheta(x)}{x}
						& \geq \epsilon \dfrac{\pi(x)}{x/\log{x}}
				\end{align*}
			Therefore, $l_{2}\geq l_{1}$ so $l_{1}=l_{2}$ and so $l_{3}=l_{2}=l_{1}$.
		\end{proof}
	Before we move on, we need to ask ourselves a very important question. $\vartheta$ and $\psi$ are discussed in every book on analytic number theory, however, it is never discussed why Tchebyscheff would consider these functions to begin with. Like most notable mathematical discovery, this was not a blind attempt by Tchebyscheff. He did not suddenly receive divine knowledge one night. And make no mistake, Tchebyscheff's work on these functions are the most important building blocks of modern analytic number theory. We first proved the equivalence above to make it apparent just how important it is. So there must be some explanation of how he came up with these functions and the aspect of this theory is always overlooked when discussing analytic number theory. \textcite[pp. 13]{ingham_1932} says the following about this matter:
		\begin{quote}
			It happens (as will appear more clearly in $\S7$) that, of the three functions $\pi,\vartheta,\psi$, the one which arises most naturally from the analytical point of view is the most remote from the original problem, namely $\psi$. For this reason, it is usually most convenient to work in the first instance with $\psi$ and to use Theorem 3 (or more precise relations corresponding to the degree of approximation contemplated) to deduce the results about $\pi$. This is a complication which seems inherent in the subject, and the reader should familiarize himself at the outset with the function $\psi$, which is to be regarded as the fundamental one.
		\end{quote}
	As is the case in almost every book, Ingham himself also simply suggests the reader to get familiarized with these functions. The question still remains what can motivate us to consider these functions. First, we have no idea about the sum of primes not exceeding $n$ or a clear estimation of the product either for that matter. If you are asked to find some missing numbers, your first question would probably be whether we know the values of some linear combinations of those unknowns or not. This fundamental way of thinking should provoke you to reach the conclusion that you are essentially asking for a weighted average of those numbers. Notice how this interpretation is more insightful than simply making queries about the numbers. Now, what if you do not even have a clear answer for these weighted averages? That case seems to be very similar to our problem. The prime counting function is
		\begin{align*}
			\pi(x)
				& = \sum_{p\leq x}1
		\end{align*}
	which possesses no insight of any value. We can only hope to get a better understanding of $\pi(x)$ indirectly by considering
		\begin{align*}
			\sum_{p\leq x}f(p)
		\end{align*}
	Now the question is how we choose $f$. Obviously, we want a function $f$ which is fairly easy for us to analyze and estimate. On the other hand, we would also like to have some flexibility so that we could represent this sum in a different manner which might give us new insights. Moreover, if the reader is familiar with Abel's partial summation formula and the prime number theorem is true,
		\begin{align*}
			\pi(x)\log{x}
				& \sim x
		\end{align*}
	Keeping the partial summation formula in mind and considering
		\begin{align*}
			\sum_{p\leq x}f(p)
				& \sim x\\
			f(x)\sum_{p\leq x}1-g(x)
				& \sim x
		\end{align*}
	we see that $f(x)=\log{x}$ and $g(x)=o(x)$ or $g(x)=O(1)$ seem to be suitable candidates.
	
	One of the goals of Tchebyscheff's work was to prove a postulate by \textcite{bertrand_1845}.
		\begin{conjecture}[Bertrand's postulate]\label{con:bertrand}
			For any real number $x>1$, there is a prime $p$ such that $n<p<2n$.
		\end{conjecture}
	Note that \autoref{thm:tchebycheffbound} already implies \nameref{con:bertrand} if we can show that $A\leq 2a$. Because then $\vartheta\left(\frac{Ax}{a}\right)>\vartheta(x)$ so there must be a prime between $x$ and $cx$ for some constant $c\leq 2$. However, we will show that the direct approach in the proof of \autoref{thm:tchebycheffbound} does not produce a proof for this postulate.
			With the help of \autoref{thm:pntequivalence}, it is enough to show that there exist constants $a$ and $A$ such that $A\leq 2a$ and
				\begin{align*}
					ax
					& < \vartheta(x) < Ax
				\end{align*}
			We again consider the binomial coefficient $\mathfrak{N}=\binom{2n}{n}<2^{2n}$ and use the trivial fact $\mathfrak{N}<2^{2n}$. If $p$ is a prime such that $n<p<2n$, then
				\begin{align*}
					\nu_{p}(\mathfrak{N})
						& = \nu_{p}((2n)!)-2\nu_{p}(n!)\\
						& = \nu_{p}((2n)!)
				\end{align*}
			So, $\mathfrak{N}$ is divisible by all such primes $p$. Thus,
				\begin{align*}
					\mathfrak{N}
						& \geq \prod_{n<p<2n}p
				\end{align*}
			Since $\log{\mathfrak{N}}<2n\log{2}$,
				\begin{align*}
					2n\log{2}
						& > \sum_{n<p<2n}\log{p}\\
						& = \vartheta(2n)-\vartheta(n)
				\end{align*}
			The right side can be telescoped by setting $n:=2^{i}$ for $0\leq i\leq  k-1$.
				\begin{align*}
					\sum_{i=0}^{k-1}2^{i+1}\log{2}
						& > \vartheta(2^{k})
				\end{align*}
			Since $2^{k}>1+\ldots+2^{k-1}$,
				\begin{align*}
					2^{k+1}\log{2}
						& > \vartheta(2^{k})
				\end{align*}
			For any $x>1$, taking $2^{k-1}\leq x<2^{k}$, $2^{k+1}\leq 4x$ so $\vartheta(x)\leq\vartheta(2^{k})<4x\log{2}$ and $\vartheta(x)<Ax$ for some $A\leq 4\log{2}$.

			Again, for a prime $p$, letting $r$ be the largest positive integer such that $p^{r}\leq 2n$, similar to the proof of \autoref{thm:tchebycheffbound}, $\nu_{p}(\mathfrak{N})\leq r$. From the definition,
				\begin{align*}
					e^{\psi(2n)}
						& = \prod_{p\leq 2n}p^{r}
				\end{align*}
			so $\mathfrak{N}\mid e^{\psi(2n)}$. Also, $(2n+1)\mathfrak{N}\geq 2^{2n}$ so
				\begin{align*}
					(2n+1)e^{\psi(2n)}
						& \geq 2^{2n}
				\end{align*}
			Taking logarithm,
				\begin{align*}
					\log{(2n+1)}+\psi(2n)
						& \geq 2n\log{2}
				\end{align*}
			Letting $\floor{\frac{x}{2}}=n$, we have $\psi(x)\geq\psi(2n)$, $2n>x-2$ and
				\begin{align*}
					\psi(x)
						& \geq (x-1)\log{2}-\log{(x+1)}
				\end{align*}
	We can now show that $\psi(x)\geq ax$ for some $a\geq\log{2}$. However, this only gives us the bound $\frac{A}{a}\leq4$ which does not prove \nameref{con:bertrand}. \textcite[$\S4$, eqn. $(5)$ pp. 376]{tschebischeff_1852} showed that $A\leq\frac{6}{5}a$ where
		\begin{align*}
			a
				& \geq \log{\dfrac{2^{\frac{1}{2}}3^{\frac{1}{3}}5^{\frac{1}{5}}}{30^{\frac{1}{30}}}}
		\end{align*}

	It was \textcite{erdos_1932} who introduced himself to the mathematical world by proving \nameref{con:bertrand} in a completely elementary manner using only properties of binomial coefficients. The reader can consult \textcite[$\S2$]{aigner_ziegler_guunter_m_1999} for an English translation. We will use some ideas we have already discussed on the matter.
		\begin{proof}
			The crucial idea behind Erd\H{o}s's proof was to show that if there was no prime between $n$ and $2n$, then $\mathfrak{N}=\binom{2n}{n}$ would not be as large as needs be.

			In order to show that, one of the first results Erd\H{o}s uses is for any odd prime $p$ such that $\frac{2}{3}n<p< n$, $2n<3p$ so, $\nu_{p}((2n)!)=2$ and $\nu_{p}(n!)=1$. Therefore, $\nu_{p}(\mathfrak{N})=\nu_{p}((2n)!)-2\nu_{p}(n!)=0$. In a similar manner, if $n+1<p\leq 2n+1$, then $\nu_{p}(\mathfrak{N})=1$. So,
				\begin{align*}
					\prod_{n+1<p\leq 2n+1}p
						& \mid \binom{2n+1}{n}
				\end{align*}
			In a similar fashion as above,
				\begin{align*}
					(1+1)^{2n+1}
						& = \sum_{i=0}^{2n+1}\binom{2n+1}{i}\\
						& \geq\binom{2n+1}{n}+\binom{2n+1}{n+1}\\
						& \geq 2\binom{2n+1}{n}
				\end{align*}
			Then $\binom{2n+1}{n}\leq 2^{2n}$. Erd\H{o}s uses the last two facts to establish another elementary result: the product of primes not exceeding $n$ does not exceed $4^{n}$. Induction is the easiest way to prove this. For very small $n$, say $n\leq 10$, the result is obvious. When $n>10$, if $n$ is even, then it cannot be prime so
				\begin{align*}
					\prod_{p\leq n}p
						& = \prod_{p\leq n-1}p\\
						& \leq 4^{n-1}\\
						& < 4^{n}
				\end{align*}
			When $n$ is odd,
				\begin{align*}
					\prod_{p\leq 2m+1}p
						& = \func{}{\prod_{p\leq m+1}p}\cdot\func{}{\prod_{m+2\leq p\leq 2m+1}p}\\
						& \leq 4^{m+1}\cdot\binom{2m+1}{m}\\
						& \leq 4^{m+1}\cdot 2^{2m}\\
						& = 4^{2m+1}
				\end{align*}
			We have already shown that
				\begin{align*}
					p^{\nu_{p}(\mathfrak{N})}
						& \leq 2n
				\end{align*}
			Finally, we can divide the factorization of $\mathfrak{N}$ using primes not exceeding $2n$ the following way
				\begin{align*}
					\mathfrak{N}
						& = \func{}{\prod_{p\leq \sqrt{2n}}p^{\nu_{p}(\mathfrak{N})}}\cdot\func{}{\prod_{\sqrt{2n}< n\leq\frac{2n}{3}}p}\cdot\func{}{\prod_{\frac{2n}{3}< p<n}p}\cdot\func{}{\prod_{n\leq p\leq 2n}p}\\
						& \leq \func{}{\prod_{p\leq\sqrt{2n}}2n}\cdot\func{}{\prod_{\sqrt{2n}<p\leq \frac{2n}{3}}p}\cdot\func{}{\prod_{n\leq p\leq 2n}p}
				\end{align*}
			since no prime in the region $(\frac{2n}{3}, n)$ divide $\mathfrak{N}$. If there is no prime between $n$ and $2n$ either, then we have
				\begin{align*}
					\mathfrak{N}
						& \leq (2n)^{\sqrt{2n}}\cdot 4^{\frac{2n}{3}}
				\end{align*}
			because $\pi(\sqrt{2n})\leq\sqrt{2n}$. However, $\mathfrak{N}\geq\frac{4^{n}}{2n}$ so
				\begin{align*}
					4^{n}
						& \leq (2n)^{1+\sqrt{2n}}4^{\frac{2n}{3}}\\
					4^{\frac{n}{3}}
						& \leq (2n)^{1+\sqrt{2n}}
				\end{align*}
			We can easily see $4^{\frac{n}{3}}$ grows much faster than $(2n)^{1+\sqrt{2n}}$. We leave this to the reader to show that for large enough $n$, this does not hold true.
		\end{proof}

		\begin{remark}
			In fact, you can show easily that $n\leq 4000$. Also, notice that we can  easily show that primes exist in the region $n<p<2n$ for $n<4000$ in at most $12$ steps which is also easy.
		\end{remark}
	\textcite{mertens_1874} gave more precise results than \nameref{thm:primereciprocal}.
		\begin{theorem}[Mertens' theorems]\label{thm:mertens}
			Let $x$ be a positive real number. As $x\to\infty$,
			\begin{align}
				\sum_{p\leq x}\dfrac{1}{p}
				& = \log{\log{x}}+B+\bigo{\dfrac{1}{x}}\label{eqn:mertens1}\\
				\sum_{p\leq x}\dfrac{\log{p}}{p}
				& = \log{x}+O(1)\label{eqn:mertens2}\\
				\prod_{p\leq x}\func{}{1-\dfrac{1}{p}}
				& \sim \dfrac{e^{-\gamma}}{\log{x}}\label{eqn:mertens3}
			\end{align}
			where $B$ is a constant and $\gamma$ is Euler-Mascheroni constant.
		\end{theorem}

		\begin{proof}
			From \nameref{thm:stirling},
				\begin{align*}
					\log{n!}
						& = n\log{n}-n+\bigo{n}
				\end{align*}
			Also, from \nameref{thm:legendrefact},
				\begin{align*}
					\log{n!}
						& = \sum_{p^{i}\leq n}\floor{\dfrac{n}{p^{i}}}\log{p}\\
						& = \sum_{i\leq n}\Lambda(i)\floor{\dfrac{n}{i}}\\
						& = \sum_{i\leq n}\Lambda(i)\dfrac{n}{i}+\bigo{\Lambda(i)}\\
						& = n\sum_{i\leq n}\dfrac{\Lambda(i)}{i}+\bigo{\sum_{i\leq n}\Lambda(i)}\\
						& = n\sum_{i\leq n}\dfrac{\Lambda(i)}{i}+\bigo{\psi(n)}
				\end{align*}
			Since $\psi(n)=O(n)$,
				\begin{align*}
					n\sum_{i\leq n}\dfrac{\Lambda(i)}{i}+\bigo{n}
						& = n\log{n}-n+\bigo{n}
				\end{align*}
			Thus, we have
				\begin{align*}
					\sum_{n\leq x}\dfrac{\Lambda(n)}{n}
						& = \log{x}+O(1)
				\end{align*}
			Notice that this is awfully similar to the original sum in question. Indeed, the sum is very closely related to this.
				\begin{align*}
					\abslarge{\sum_{n\leq x}\dfrac{\Lambda(n)}{n}-\sum_{p\leq x}\dfrac{\log{p}}{p}}
						& \leq \sum_{p\leq x}\func{}{\dfrac{1}{p^{2}}+\dfrac{1}{p^{3}}+\ldots}\log{p}\\
						& = \sum_{p\leq x}\dfrac{1}{p^{2}}\parenthesis{\dfrac{p}{p-1}}\log{p}\\
						& = \sum_{p\leq x}\dfrac{\log{p}}{p(p-1)}
				\end{align*}
			Since for all large enough $p>N$, $\log{p}\leq \frac{p-1}{\sqrt{p}}$,
				\begin{align*}
					\abslarge{\sum_{n\leq x}\dfrac{\Lambda(n)}{n}-\sum_{p\leq x}\dfrac{\log{p}}{p}}
						& \leq \sum_{N<p\leq x}\dfrac{1}{p\sqrt{p}}+O(1)\\
						& < \sum_{i\geq 1}\dfrac{1}{i^{\frac{3}{2}}}+O(1)\\
						& = \zeta\func{}{\frac{3}{2}}+O(1)
				\end{align*}
			Since $\zeta(s)$ converges for $s>1$, we have
				\begin{align*}
					\sum_{p\leq x}\dfrac{\log{p}}{p}
						& = \sum_{n\leq x}\dfrac{\Lambda(n)}{n}+O(1)\\
						& = \log{x}+O(1)
				\end{align*}
			We can now apply \nameref{thm:abel} with $a_{n}:=\frac{\log{p_{n}}}{p_{n}}$.
				\begin{align*}
					\sum_{p_{n}\leq x}\frac{1}{p_{n}}
						& = \sum_{p_{n}\leq x}\dfrac{a_{n}}{\log{p_{n}}}\\
						& = \dfrac{A(x)}{\log{x}}+\int_{2}^{x}\dfrac{A(t)}{t\log^{2}{t}}dt
				\end{align*}
			where $A(x)=\sum_{p_{n}\leq x}\frac{\log{p_{n}}}{p_{n}}=\log{x}+O(1)$.
				\begin{align*}
					\sum_{p_{n}\leq x}\dfrac{1}{p_{n}}
						& = 1+\bigo{\dfrac{1}{\log{x}}}+\int_{2}^{x}\dfrac{1}{t\log{t}}dt+\bigo{\int_{2}^{x}\dfrac{1}{t\log^{2}{t}}}dt
				\end{align*}
			We leave the calculation of the integrals to the reader to show that
				\begin{align*}
					\sum_{p_{n}\leq x}\dfrac{1}{p_{n}}
						& = \log{\log{x}}+B+\bigo{\dfrac{1}{\log{x}}}
				\end{align*}
		\end{proof}
	Since $\psi(x)=\sum_{n\leq x}\Lambda(n)$, we can write
		\begin{align*}
			\sum_{n\leq x}\floor{\dfrac{x}{n}}\Lambda(n)
				& = \sum_{n\leq x}\func{\psi}{\dfrac{x}{n}}
		\end{align*}
	As a corollary, we get the following.
		\begin{corollary}
			For all $x\geq1$,
				\begin{align*}
					\sum_{n\leq x}\func{\psi}{\dfrac{x}{n}}
						& = x\log{x}-x+\bigo{\log{x}}
				\end{align*}
		\end{corollary}
\end{document}