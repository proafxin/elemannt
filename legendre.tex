\documentclass[elemannt.tex]{subfile}

\begin{document}
	\chapter{Two Elementary Proofs of Legendre-Dirichlet Prime Number Theorem}\label{ch:legendre}
	\textcite[pp. 241]{euler_1783} proved that the sequence ${a+nd}$ contains infinitely many primes for $a=1$. This can be proven using cyclotomic polynomials (see \textcite[$\S1.4$, Theorem 1.47]{billal_riasat_2021}). \textcite[pp. 404]{legendre_1798} conjectured that ${a+nd}$ contains infinitely many primes when $\gcd(a,d)=1$ although failed to prove it as \textcite[$\S29$, pp. $505-508$]{gauss_1801} noted. \textcite{dirichlet_1837} proved in his famous paper that $a+nd$ contains infinitely many primes though the proof is complete only when $d$ is a prime. \textcite{dirichlet_1839} (also see \textcite{dirichlet_1897_28}) completes this proof with Dirichlet's class number formula. This is why today it is known as \index{Dirichlet's theorem on arithmetic progression}\textit{Dirichlet's theorem on arithmetic progression} or \textit{Dirichlet's prime number theorem}.
	\section{Dirichlet Characters}
	Dirichlet's idea of proving Legendre's conjecture essentially comes from Euler's proof of the divergence of the sum of reciprocal of primes, except Dirichlet wanted to prove the same when restricted by the constraint that $p\equiv a\pmod{k}$. Euler's proof gives us another way to prove there are infinitely many primes because the sum of reciprocals of primes diverge. If there were finitely many primes, that would not be the case. So, if we could prove
		\begin{align*}
			\sum_{p\equiv a\pmod{k}}\frac{1}{p}
		\end{align*}
	diverges as well, the theorem would be complete. This is where Dirichlet introduced the crucial idea of \textit{characters}. The motivation Dirichlet had was to define a \textit{periodic} function in a certain way that would allow one to
		\begin{enumerate}[(I)]
			\item identify when $a$ is relatively prime to $k$.
			\item have the same behavior as the reduced set of residues $\pmod{k}$.
			\item have the same behavior as the complex roots of unity (this is actually very important, for example, the sum of all roots of unity is $0$.)
			\item identify exactly when $b\equiv a\pmod{k}$ for $\gcd(a,k)=1$.
		\end{enumerate}
	The intuition behind finding a periodic function is to note that $\gcd(a,k)=1$ implies $\gcd(a+k,k)=1$. As we will see later, Dirichlet characters satisfy all of these properties. It will become apparent later how and why they play such a crucial role. \textcite[pp. 186]{legendre_1798} defined the \textit{Legendre symbol} which plays a pivotal role in elementary number theory. \textcite{jacobi_1846} generalized Legendre symbol which is now known as \textit{Jacobi symbol}. \textcite[pp. 770]{kronecker_1885} generalized this to \textit{Kronecker symbol} which is unfortunately less known today. This is because \textcite{dirichlet_1837} had already introduced (also see \textcite{dirichlet_1897_21}) a generalization of Kronecker symbol which is far more insightful. Let $k$ be a fixed positive integer.
		\begin{definition}[Dirichlet Character]
			An arithmetic function $\chi$ is called a \index{Dirichlet character}\textit{character} $\pmod{k}$ if
				\begin{enumerate}[(I)]
					\item $\chi(a)=0$ if $\gcd(a,k)>1$.
					\item $\chi(1)\neq0$.
					\item $\chi(ab)=\chi(a)\chi(b)$ for all positive integers $a,b$.
					\item $\chi(a)=\chi(b)$ if $a\equiv b\pmod{k}$.
				\end{enumerate}
		\end{definition}
	Note that Legendre symbol $\qr{a}{p}$ for prime $p$, Jacobi symbol $\qr{a}{n}$ and Kronecker symbol $\qr{a}{l}$ are all characters $\pmod{p},\pmod{n}$ and $\pmod{l}$ respectively where $p$ is prime, $n$ is a positive integer and $l\equiv0,1\pmod{4}$ for square-free $l$. Another example of $\chi$ is $\chi(n)=0$ for $n\equiv0,2\pmod{4}$, $\chi(n)=1$ for $n\equiv1\pmod4$ and $\chi(n)=-1$ for $n\equiv3\pmod{4}$. Obviously, $\chi$ is completely multiplicative; hence $\chi(1)=1$.

	It is still not entirely clear how $\chi$ satisfies the properties we mentioned above. The next three theorems show why $\chi(n)$ behaves like complex roots of unity.
		\begin{theorem}
			If $\gcd(n,k)=1$, then $\chi(n)^{\varphi(k)}=1$. So $\chi(n)$ is actually a complex number which is an $\varphi(k)$-th root of unity and $|\chi(n)|=1$.
		\end{theorem}

		\begin{proof}
			From Euler's theorem,
				\begin{align*}
					n^{\varphi(k)}
						& \equiv1\pmod{k}
				\end{align*}
			So, $\chi(n)^{\varphi(k)}=\chi(n^{\varphi(k)})=\chi(1)=1$.
		\end{proof}

		\begin{definition}[Principal character]
			$\chi_{0}(n)=1$ when $\gcd(n,k)=1$ is the \textit{principal character} $\pmod{k}$. If $\gcd(n,k)>1$, $\chi_{0}(n)=0$.
		\end{definition}
	Since the characters $\pmod{k}$ are complex roots of unity, the complex conjugate of $\chi(n)$, $\bar{\chi(n)}$ is also a root of unity, hence; the following.
		\begin{theorem}
			If $\chi(n)$ is a character $\pmod{k}$, $\bar{\chi(n)}$ is also a character $\pmod{k}$.
		\end{theorem}

		\begin{theorem}\label{thm:sum-for-residues}
			For any Dirichlet character $\chi$,
				\begin{align*}
					\sum_{0\leq a\leq k-1}\chi(a)
						& =
							\begin{cases}
								\varphi(k)& \mbox{ if }\chi=\chi_{0}\\
								0& \mbox{ otherwise}
							\end{cases}
				\end{align*}

		\end{theorem}

		\begin{proof}
			If $\chi(n)=\chi_{0}(n)$ is the principal character, then
				\begin{align*}
					\sum_{i=0}^{k-1}\chi_{0}(i)
						& = \sum_{\substack{i=0\\\gcd(i,k)=1}}^{k-1}\chi_{0}(i)+\sum_{\substack{i=0\\\gcd(i,k)>1}}^{k-1}\chi_{0}(i)\\
						& = \sum_{\substack{i=0\\\gcd(i,k)=1}}^{k-1}1\\
						& = \varphi(k)
				\end{align*}
			If $\chi(n)$ is not the principal character, for any $l$ prime to $k$ such that $\chi(l)\neq1$, the set of residues $\{i: 1\leq i\leq k-1\}$ and $\{il:1\leq i\leq k-1\}$ coincide. Then
				\begin{align*}
					\sum_{i=1}^{k-1}\chi(i)
						& = \sum_{i=1}^{k-1}\chi(il)\\
						& = \sum_{i=1}^{k-1}\chi(i)\chi(l)\\
						& = \chi(l)\sum_{i=1}^{k-1}\chi(i)
				\end{align*}
			Since $\chi(l)\neq1$,
				\begin{align*}
					\sum_{i=1}^{k-1}\chi(i)
						& = 0
				\end{align*}
		\end{proof}
	The next two theorems show why $\chi$ behaves like a complete/reduced set of residues.
		\begin{theorem}\label{thm:product-character}
			If $\chi_{1}(n)$ and $\chi_{2}(n)$ are both characters, then so is $\chi_{1}(n)\chi_{2}(n)$.
		\end{theorem}

		\begin{proof}
			Left as an exercise.
		\end{proof}

		\begin{theorem}\label{thm:char-perm}
			If $\chi'(n)$ is a character and $\chi(n)$ runs over all characters of $k$, $\chi'(n)\chi(n)$ runs over all characters of $k$ as well.
		\end{theorem}

		\begin{proof}
			If $\gcd(n,k)\neq1$, $\chi'(n)\chi(n)$ and $\chi(n)$ both are $0$. For $\gcd(n,k)=1$, if $\chi'(n)\chi(n)=\chi''(n)\chi'(n)$ then $\chi(n)=\chi''(n)$ since neither is $0$. By \autoref{thm:product-character}, $\chi(n)\chi'(n)$ produces $\varphi(k)$ different characters so are a permutation of the original characters $\chi'(n)$.
		\end{proof}

		\begin{theorem}\label{thm:char-not-one}
			If $a$ is a positive integer prime to $k$ such that $a\not\equiv1\pmod{k}$, then there exists a character $\chi(a)\neq1$.
		\end{theorem}

		\begin{proof}
			If $p$ is a prime divisor of $k$ and $k=p^{e}l$ such that $p\nmid l$ then $p\nmid a$. For any $e$, there exists a primitive $\lambda(p^{e})$-th root $g\pmod{p^{e}}$. For any $a$ not divisible by $p$, there is a unique non-negative integer $u$ not exceeding $\lambda(p^{e})$ such that
				\begin{align*}
					a
						& \equiv g^{u}\pmod{p^{e}}
				\end{align*}
			Setting $\zeta:=\exp\left(\frac{2i\pi}{\lambda(p^{e})}\right)$ and $\chi(a)=\zeta^{u}$, we can easily see for $a\equiv g^{u}\pmod{p^{e}}$ and $b\equiv g^{v}\pmod{p^{e}}$,
				\begin{align*}
					ab
						& \equiv g^{u+v}\pmod{p^{e}}\\
					\chi(ab)
						& = \zeta^{u+v}\\
						& =\zeta^{u}\zeta^{v}\\
						& = \chi(a)\chi(b)
				\end{align*}
			The other properties are trivially satisfied. Now it remains to see that for $a\not\equiv1\pmod{k}$, if $a\equiv g^{u}\pmod{p^{e}}$ then $\lambda(p^{e})\nmid u$ so $\zeta^{u}\neq1$.
		\end{proof}

		\begin{theorem}\label{thm:sum-for-char}
			If $C(k)$ is the number of characters $\pmod{k}$, then
				\begin{align*}
					\sum_{\chi}\chi(a)
						& =
							\begin{cases}
								C(k)\mbox{ if }a\equiv1\pmod{k}\\
								0\mbox{ otherwise}
							\end{cases}
				\end{align*}
			where the sum ranges through all the characters.
		\end{theorem}

		\begin{proof}
			If $a\equiv1\pmod{k}$,
				\begin{align*}
					\sum_{\chi}\chi(a)
						& = \sum_{\chi}1\\
						& = C(k)
				\end{align*}
			If $\gcd(a,k)>1$, then $\chi(a)=0$ for all $\chi$ so $\sum_{\chi}\chi(a)=0$. Now, $\gcd(a,k)=1$ and $a\not\equiv1\pmod{k}$. By \autoref{thm:char-not-one}, there is a character $\chi'$ such that $\chi'(a)\neq1$. By \autoref{thm:char-perm},
				\begin{align*}
					\sum_{\chi}\chi(a)
						& = \sum_{\chi}\chi(a)\chi'(a)
				\end{align*}
			Since $\chi'(a)\neq1$, we have $\sum_{\chi}\chi(a)=0$.
		\end{proof}

		\begin{theorem}
			There are $\varphi(k)$ characters $\pmod{k}$.
		\end{theorem}

		\begin{proof}
			If $\chi$ runs through all the characters, by \autoref{thm:sum-for-char}
				\begin{align*}
					\sum_{i=0}^{k-1}\sum_{\chi}\chi(i)
						& = 0+\sum_{\chi}\chi(1)+\sum_{i=2}^{k-1}\sum_{\chi}\chi(i)\\
						& = C(k)
				\end{align*}
			On the other hand, by \autoref{thm:sum-for-residues}
				\begin{align*}
					\sum_{i=0}^{k-1}\sum_{\chi}\chi(i)
						& = \sum_{i=0}^{k-1}\chi_{0}(i)+\sum_{i=0}^{k-1}\sum_{\substack{\chi\\\chi\neq\chi_{0}}}\chi(i)\\
						& = \varphi(k)
				\end{align*}
			Thus, $C(k)=\varphi(k)$.
		\end{proof}

		\begin{theorem}
			Let $l$ be a positive integer prime to $k$. Then for a positive integer $a$,
				\begin{align*}
					\sum_{\chi}\dfrac{\chi(a)}{\chi(l)}
						& =
							\begin{cases}
								\varphi(k)\mbox{ if }a\equiv l\pmod{k}\\
								0\mbox{ otherwise}
							\end{cases}
				\end{align*}
		\end{theorem}

		\begin{proof}
			Let $t$ be a positive integer such that $lt\equiv1\pmod{k}$. Such $t$ exists since $l$ is prime to $k$. Then $\chi(l)\chi(t)=\chi(lt)=\chi(1)=1$.
				\begin{align*}
					\sum_{\chi}\dfrac{\chi(a)}{\chi(l)}
						& = \sum_{\chi}\chi(a)\chi(t)\\
						& = \sum_{\chi}\chi(at)
				\end{align*}
			According to \autoref{thm:sum-for-residues}, if $at\equiv1\pmod{k}$, then $\sum_{\chi}\chi(at)=\varphi(k)$ otherwise $\sum_{\chi}\chi(at)=0$. Since $at\equiv1\equiv lt\pmod{k}$ and $\gcd(t,k)=1$, we have $a\equiv l\pmod{k}$.
		\end{proof}
	\section{Non-vanishing of $L$-Series At $s=1$}
	\section{First Proof}
	\section{Proof by Selberg}
\end{document}